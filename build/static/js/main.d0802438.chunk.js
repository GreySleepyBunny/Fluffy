(this.webpackJsonpfluffy=this.webpackJsonpfluffy||[]).push([[0],{16:function(e,a,t){e.exports=t(33)},33:function(e,a,t){"use strict";t.r(a);var l=t(1),o=t.n(l),c=t(15),r=t.n(c),n=t(5),i=t(12),m=t(11),s=t(6),d=t.n(s),u={time:{col:"time",defaultValue:d()(new Date).format("HH:mm:ss")},date:{col:"date",defaultValue:d()(new Date).format("YYYY-MM-DD")},g:{col:"g"},calories:{col:"calories"},brand:{col:"brand"},foodType:{col:"foodType"},flavor:{col:"flavor"},gel:{col:"gel"},like:{col:"like",defaultValue:!1},diarrhea:{col:"diarrhea",defaultValue:!1},throwUp:{col:"throwUp",defaultValue:!1},others:{col:"others"},cereals:{col:"cereals",defaultValue:!1}},f={paddingRight:"15px",paddingLeft:"15px",margin:"20px"},p={primary:{color:"#fff",backgroundColor:"#6b99c7",borderColor:"#6b99c7"},secondary:{color:"#fff",backgroundColor:"#6C7595",borderColor:"#6C7595"}},g=function(e){var a=Object(l.useState)((function(){if(e.Datas)return e.Datas;var a={};return Object.keys(u).forEach((function(e){a[e]=void 0!==u[e].defaultValue?u[e].defaultValue:""})),a})),t=Object(i.a)(a,2),c=t[0],r=t[1],s=function(e,a){r(Object(n.a)({},c,Object(m.a)({},a,e)))};return o.a.createElement("div",{style:{margin:"10px",height:"100%",marginBottom:"10%"}},o.a.createElement("button",{type:"submit",className:"btn btn-secondary",style:{marginBottom:"10px"},onClick:e.ClickBack},"Back"),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u65e5\u671f"),o.a.createElement("input",{readOnly:!0===e.IsEdit,className:"form-control",type:"text",defaultValue:c[u.date.col],onBlur:function(e){s(e.target.value,u.date.col)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u98df\u7528\u91cf(e.g. 50g\u5247\u8f38\u516550)"),o.a.createElement("input",{className:"form-control",type:"tel",defaultValue:c[u.g.col],onBlur:function(e){s(e.target.value,u.g.col)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u71b1\u91cf"),o.a.createElement("input",{className:"form-control",type:"tel",defaultValue:c[u.calories.col],onBlur:function(e){s(e.target.value,u.calories.col)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u54c1\u724c"),o.a.createElement("input",{className:"form-control",type:"text",defaultValue:c[u.brand.col],onBlur:function(e){s(e.target.value,u.brand.col)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u578b\u614b(\u6ce5/\u8089\u7d72/\u8089\u584a...etc)"),o.a.createElement("input",{className:"form-control",type:"text",defaultValue:c[u.foodType.col],onBlur:function(e){s(e.target.value,u.foodType.col)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u53e3\u5473"),o.a.createElement("input",{className:"form-control",type:"text",defaultValue:c[u.flavor.col],onBlur:function(e){s(e.target.value,u.flavor.col)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u81a0\u985e"),o.a.createElement("input",{className:"form-control",type:"text",defaultValue:c[u.gel.col],onBlur:function(e){s(e.target.value,u.gel.col)}})),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"col-gel",checked:c[u.cereals.col],onChange:function(){s(!c[u.cereals.col],u.cereals.col)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"col-gel"},"\u7a40\u7269\uff1f")),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"col-like",checked:c[u.like.col],onChange:function(){s(!c[u.like.col],u.like.col)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"col-like"},"\u559c\u6b61\uff1f")),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"col-diarrhea",checked:c[u.diarrhea.col],onChange:function(){s(!c[u.diarrhea.col],u.diarrhea.col)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"col-diarrhea"},"\u62c9\u809a\u809a\uff1f")),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"col-throwUp",checked:c[u.throwUp.col],onChange:function(){s(!c[u.throwUp.col],u.throwUp.col)}}),o.a.createElement("label",{className:"form-check-label",htmlFor:"col-throwUp"},"\u5410\u7c97\u4e43\uff1f")),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u5176\u4ed6"),o.a.createElement("textarea",{className:"form-control",rows:"3",defaultValue:c[u.others.col],onBlur:function(e){s(e.target.value,u.others.col)}})),e.processing?o.a.createElement("div",{className:"spinner-border text-primary",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")):o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{type:"button",className:"btn",style:p.primary,onClick:function(){e.ClickSubmit(c)}},e.IsEdit?"\u66f4\u65b0":"\u9001\u51fa"),e.IsEdit?o.a.createElement("button",{type:"button",className:"btn",style:Object(n.a)({},p.secondary,{float:"right"}),onClick:e.ClickDelete},"\u522a\u9664"):null)))},b=function(e){var a=e.IsMobile;return o.a.createElement("div",{className:"text-center",style:{marginTop:a?"30%":"10%"}},o.a.createElement("img",{src:"./img/wait.jpg",style:{width:a?"80%":"30%"}}),o.a.createElement("div",{style:{marginTop:"10px"}},o.a.createElement("span",null,"\u5154\u5154\u5df2\u53bb\u6293\u8cc7\u6599\uff0c\u8acb\u975c\u5019\u5154\u5154\u4f73\u97f3 "),o.a.createElement("div",{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")),o.a.createElement("p",null,"(\u5154\u817f\u72c2\u5954) ")))},h=function(){var e,a=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(a=!0),a},E={display:"inline-block",margin:"0.25em 0.25em 1em",padding:"0.25em 1em 0.25em .8em",fontSize:"90%",fontWeight:"700",lineHeight:"1.5",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:"1rem",transition:"color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out"},y=function(e){return o.a.createElement("div",{style:Object(n.a)({},E,{},e.color)},e.icon?o.a.createElement("i",{className:e.icon}):null,o.a.createElement("span",{style:e.icon?{paddingLeft:".6em"}:{}},e.displayText))},v={heart:"fas fa-heart",toilet:"fas fa-poo",dislike:"far fa-heart-broken",throwUp:"far fa-disease",food:"fas fa-utensils",hot:"fab fa-hotjar",delete:"fa fa-trash",edit:"fa fa-pencil"},k={blue:{backgroundColor:"#0099CC",color:"#fff"},tomato:{backgroundColor:"#ff6347",color:"#fff"},grey:{backgroundColor:"rgba(0, 0, 0, 0.25)",color:"rgba(0, 0, 0, 0.6)"},brown:{backgroundColor:"#CC9966",color:"#fff"}},w=function(e){var a;return o.a.createElement("div",{className:"card bg-light",style:{borderBottom:"solid",borderBottomColor:"#dcdcdc",borderWidth:"1px",marginBottom:"2em"}},o.a.createElement("div",{className:"card-header",style:{paddingTop:".25rem",height:"45px",paddingBottom:0,background:"linear-gradient(#EFCECE, #C6B4B3)",borderBottom:"solid",borderBottomColor:"#a9a9a9",borderWidth:"1px"}},o.a.createElement("div",{className:"row justify-content-between"},o.a.createElement("div",{style:{padding:"0.375rem",fontWeight:500}},"".concat(e[u.date.col]," ").concat(e[u.time.col])),o.a.createElement("a",{onClick:e.OnEdit},o.a.createElement("i",{className:v.edit,style:{marginRight:".45em",marginTop:".65em"}})))),o.a.createElement("div",{className:"card-body",style:{background:"linear-gradient(to bottom right, #dcdcdc, #b0c4de)"}},o.a.createElement("div",{style:{marginBottom:"1.5em"}},o.a.createElement("h5",null,"\u672c\u6b21\u6230\u7e3e"),o.a.createElement("div",{style:{marginLeft:".5em"}},o.a.createElement("p",{style:{marginBottom:".5em",color:"#4F4F4F"}},o.a.createElement("i",{className:v.food,style:{marginRight:".45em"}}),e[u.g.col],"g"),o.a.createElement("p",{style:{marginBottom:".5em",color:"#4F4F4F"}},o.a.createElement("i",{className:v.hot,style:{marginRight:".45em"}}),e[u.calories.col]))),o.a.createElement("div",{style:{marginBottom:"1.5em"}},o.a.createElement("h5",null,"\u54c1\u724c"),o.a.createElement("div",{style:{marginLeft:".5em"}},o.a.createElement("p",{style:{marginBottom:".5em",color:"#4F4F4F"}},e[u.brand.col])),e[u.gel.col]?o.a.createElement(y,{color:k.blue,displayText:e[u.gel.col]}):o.a.createElement(y,{color:k.blue,displayText:"\u81a0\u985e\u4e0d\u660e"}),e[u.flavor.col]?o.a.createElement(y,{color:k.blue,displayText:e[u.flavor.col]}):o.a.createElement(y,{color:k.blue,displayText:"\u53e3\u5473\u4e0d\u660e"}),e[u.foodType.col]?o.a.createElement(y,{color:k.blue,displayText:e[u.foodType.col]}):o.a.createElement(y,{color:k.blue,displayText:"\u7f50\u7f50\u578b\u614b\u4e0d\u660e"}),e[u.cereals.col]?o.a.createElement(y,{color:k.blue,displayText:"\u7a40\u985e"}):null),o.a.createElement("div",{style:{marginBottom:"1.5em"}},o.a.createElement("h5",null,"\u53cd\u61c9"),e[u.like.col]?o.a.createElement(y,{color:k.tomato,icon:v.heart,displayText:"\u559c\u6b61"}):o.a.createElement(y,{color:k.grey,icon:v.dislike,displayText:"\u53ad\u60e1"}),e[u.diarrhea.col]?o.a.createElement(y,{color:k.grey,icon:v.toilet,displayText:"\u62c9\u809a\u809a"}):null,e[u.throwUp.col]?o.a.createElement(y,{color:k.grey,icon:v.throwUp,displayText:"\u5614\u5410"}):null),o.a.createElement("div",{style:{marginBottom:"1.5em",borderRadius:"0.25em"}},o.a.createElement("h5",null,"\u7b46\u8a18"),o.a.createElement("div",{style:{backgroundColor:"#fff",padding:".5em .8em",color:"#4F4F4F"}},null===(a=e[u.others.col])||void 0===a?void 0:a.split("\n").map((function(a,t){return o.a.createElement("p",{style:{marginBottom:"0.5em"},key:"others-".concat(e.mainKey,"-").concat(t)},a)}))))))},x=t(9),N=t.n(x),C={apiKey:function(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(a,t,l){e[t]=l})),e}().d,authDomain:"fluffy-6070b.firebaseapp.com",databaseURL:"https://fluffy-6070b.firebaseio.com",projectId:"fluffy-6070b",storageBucket:"fluffy-6070b.appspot.com",messagingSenderId:"682706664864",appId:"1:682706664864:web:2ca751fe7534e708c578c5",measurementId:"G-09W4SMXHFH"};N.a.initializeApp(C),N.a.analytics();var B="main",j="edit",T=function(){var e=Object(l.useState)({datas:[],page:B,processing:!1,isEdit:!1,idx:null}),a=Object(i.a)(e,2),t=a[0],c=a[1];Object(l.useEffect)((function(){r()}),[]);var r=function(){var e;(e="Hugo",N.a.database().ref("".concat(e,"/")).once("value")).then((function(e){var a=e.val(),t=[];Object.keys(a).forEach((function(e){return Object.keys(a[e]).forEach((function(l){t.push(Object(n.a)({},a[e][l],{key:l}))}))})),t=t.sort((function(e,a){return e>a?1:-1})),c((function(e){return Object(n.a)({},e,{datas:t,processing:!1,page:B,isEdit:!1,idx:null})}))}))},m=function(e){t.processing||c((function(a){return Object(n.a)({},a,{page:e,isEdit:!1,idx:null})}))},s=function(e){c((function(a){return Object(n.a)({},a,{page:j,isEdit:!0,idx:e})}))},u=null;if(t.page===B){var E=t&&t.datas.map((function(e,a){return o.a.createElement(w,Object.assign({key:"r-".concat(e.key),mainKey:"r-".concat(e.key)},e,{OnEdit:s.bind(void 0,a)}))}));u=t&&t.datas?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{marginBottom:"20px"}},o.a.createElement("button",{type:"button",className:"btn",style:p.primary,onClick:m.bind(null,j)},"\u65b0\u589e")),E):o.a.createElement(b,{IsMobile:h()})}else u=o.a.createElement(g,{IsMobile:h(),ClickBack:m.bind(null,B),ClickSubmit:function(e){if(c((function(e){return Object(n.a)({},e,{processing:!0})})),t.isEdit){var a=t.datas[t.idx];(function(e,a,t,l){var o={};return o["/".concat(e,"/").concat(a,"/").concat(t)]=l,N.a.database().ref().update(o)})("Hugo",a.date,a.key,Object(n.a)({},e,{lastEditTime:d()().unix()})).then((function(){r()}))}else(l="Hugo",o=e,N.a.database().ref("".concat(l,"/").concat(d()().format("YYYY-MM-DD"),"/").concat(d()().unix())).set(o)).then((function(){r()}));var l,o},processing:t.processing,IsEdit:t.isEdit,Datas:t.isEdit?t.datas[t.idx]:null,ClickDelete:function(){if(window.confirm("Are you sure about that?")){var e=t.datas[t.idx];(a="Hugo",l=e.date,o=e.key,N.a.database().ref("".concat(a,"/").concat(l,"/").concat(o)).remove()).then((function(){r()}))}var a,l,o}});return o.a.createElement("div",{style:f},u)};var O=function(){return o.a.createElement(T,null)};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(O,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.d0802438.chunk.js.map